version: '3.3'

services:
  training:
    image: jenslaufer/docker-generic-tensorflow-python:tf_1_13_1-py3-cpu
    container_name: rltrader
    volumes: 
      - ./data:/data
      - ./src:/src
    entrypoint: /bin/sh
    stdin_open: true
    tty: true
    secrets:
      - my_secret
  rltrainingdb:
    image: mongo:3.6.13
    container_name: "rltrainingdb"
    volumes:
      - './db:/data/db'
    ports:
      - 27017:27017
    command: mongod
      
secrets:
  my_secret:
    file: ./.ssh/rl